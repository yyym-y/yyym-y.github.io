---
layout: default
---

<div id="main">
    <div style="font-size: 20px; font-weight: 800">‰ª£Á†Å‰∫ëÂâ™Ë¥¥Êùø üòá ~~~</div>
    <div class="bar" style="margin-bottom: 10px"></div>
    <div id="codeList">
        <div>
            <el-input v-model="input" placeholder="ÈìæÊé•~~" style="width: 83%; float: left;"></el-input>
            <el-button style="width: 15%; float: right; margin-left: 10px;" @click="clickToJump()">ÁÇπÂáªË∑≥ËΩ¨</el-button>            
        </div>
        <div style="height: 20px; width: 100%;"></div>
        <el-table
            ref="multipleTable"
            :data="tableData"
            tooltip-effect="dark"
            style="width: 100%; margin-top: 20px;"
            @selection-change="handleSelectionChange">

            <el-table-column type="selection" width="50"></el-table-column>
            <el-table-column prop="key" label="Key" width="100"></el-table-column>
            <el-table-column prop="fileName" label="Êñá‰ª∂Âêç" width="150"></el-table-column>
            <el-table-column prop="remark" label="Â§áÊ≥®" show-overflow-tooltip></el-table-column>
        </el-table>
    </div>
</div>

<script type="module">
  import info from "/js/data/codeMap.js"
    new Vue({
        el : "#codeList",
        data() {
            return {
                tableData : info.infos,
                multipleSelection: [],
                input: ""
            }
        },

    methods: {
      toggleSelection(rows) {
        if (rows) {
          rows.forEach(row => {
            this.$refs.multipleTable.toggleRowSelection(row);
          });
        } else {
          this.$refs.multipleTable.clearSelection();
        }
        console.log(this.multipleSelection)
      },
      handleSelectionChange(val) {
        this.multipleSelection = val;
        if(this.multipleSelection.length == 0) {
          this.input = ""; return;
        }
        this.input = "/util/codeShow?num=" + this.multipleSelection.length;
        for(let i = 0 ; i < this.multipleSelection.length ; i ++) {
          this.input += "&"
          this.input += "key" + i + "=" + this.multipleSelection[i].key;
        }
        console.log(this.multipleSelection)
      },
      clickToJump() {
        window.location.href = this.input;
      }
    }
    })
</script>